(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[0],{105:function(t,e,n){"use strict";n.r(e);var c,r,a,o,s,u=n(1),i=n(0),l=n.n(i),b=n(22),j=n.n(b),h=(n(41),n(17)),d=n(18),f=n(20),O=n(19),p=(n(23),n(24),n(106),n(34),n(38)),m=n(7),g=n(12),v=n(27),x=n(29),C=Object(g.b)((function(t){return{name:t.auth.user.name,avatar:"https://steamcdn-a.akamaihd.net/steamcommunity/public/images/avatars/ea/ea25bf27b1917865960af3c6e2364c29b83f58bd_full.jpg"}}),{onLogout:x.a.logOut})((function(t){var e=t.avatar,n=t.name,c=t.onLogout;return Object(u.jsxs)("div",{children:[Object(u.jsx)("img",{src:e,alt:"\u0422\u0432\u043e\u0454 \u0444\u043e\u0442\u043e \u043c\u0443\u0434\u0430\u043a!!!!!",width:"32"}),Object(u.jsxs)("span",{children:["Welcome, ",n]}),Object(u.jsx)("button",{type:"button",onClick:c,children:"Logout"})]})})),y=n(52),S=n.n(y),L=function(t){Object(f.a)(n,t);var e=Object(O.a)(n);function n(){return Object(h.a)(this,n),e.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return Object(u.jsx)(S.a,{type:"TailSpin",color:"#00BFFF",height:100,width:100,timeout:3e3})}}]),n}(l.a.Component),k=Object(i.lazy)((function(){return n.e(3).then(n.bind(null,109))})),E=Object(i.lazy)((function(){return n.e(4).then(n.bind(null,110))})),R=Object(i.lazy)((function(){return n.e(5).then(n.bind(null,111))})),q=Object(i.lazy)((function(){return Promise.resolve().then(n.bind(null,106))})),w=function(t){Object(f.a)(n,t);var e=Object(O.a)(n);function n(){return Object(h.a)(this,n),e.apply(this,arguments)}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.props.onGetCurrentUser()}},{key:"render",value:function(){return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(p.a,{children:Object(u.jsxs)(i.Suspense,{fallback:Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(L,{}),Object(u.jsx)("h3",{children:"Loading..."})]}),children:[this.props.isAuthenticated&&Object(u.jsx)(C,{}),Object(u.jsxs)(m.d,{children:[Object(u.jsx)(m.b,{exact:!0,path:v.a.HomeView,component:k}),Object(u.jsx)(m.b,{exact:!0,path:v.a.LoginView,component:E}),Object(u.jsx)(m.b,{exact:!0,path:v.a.ContactsView,component:q}),Object(u.jsx)(m.b,{path:v.a.RegisterView,component:R}),Object(u.jsx)(m.a,{to:"/"})]})]})})})}}]),n}(i.Component),_=Object(g.b)((function(t){return{isAuthenticated:t.auth.token}}),{onGetCurrentUser:x.a.getCurrentUser})(w),F=n(53),U=n(6),N=n(55),V=n(9),A=n(2),z=n(11),T=[],D="",G=Object(A.c)(T,(c={},Object(U.a)(c,z.a.addListSuccess,(function(t,e){return[].concat(Object(N.a)(t),[e.payload])})),Object(U.a)(c,z.a.fetchListSuccess,(function(t,e){return e.payload})),Object(U.a)(c,z.a.removeListSuccess,(function(t,e){return t.filter((function(t){return t.id!==e.payload}))})),c)),I=Object(A.c)(D,Object(U.a)({},z.a.filterContact,(function(t,e){return e.payload}))),M=Object(A.c)(!1,(r={},Object(U.a)(r,z.a.addListRequest,(function(){return!0})),Object(U.a)(r,z.a.addListSuccess,(function(){return!1})),r)),B=Object(V.c)({items:G,filter:I,loading:M}),J=n(21),H=n(54),P=n.n(H),W=n(5),K={name:null,email:null},Q=Object(A.c)(K,(a={},Object(U.a)(a,W.a.registerSuccess,(function(t,e){return e.payload.user})),Object(U.a)(a,W.a.loginSuccess,(function(t,e){return e.payload.user})),Object(U.a)(a,W.a.getCurrentUserSuccess,(function(t,e){return e.payload})),Object(U.a)(a,W.a.logoutSuccess,(function(){return K})),a)),X=Object(A.c)(null,(o={},Object(U.a)(o,W.a.registerSuccess,(function(t,e){return e.payload.token})),Object(U.a)(o,W.a.loginSuccess,(function(t,e){return e.payload.token})),Object(U.a)(o,W.a.logoutSuccess,(function(){return null})),o)),Y=Object(A.c)(null,(s={},Object(U.a)(s,W.a.registerError,(function(t,e){return e.payload})),Object(U.a)(s,W.a.loginError,(function(t,e){return e.payload})),Object(U.a)(s,W.a.logoutError,(function(t,e){return e.payload})),Object(U.a)(s,W.a.getCurrentUserError,(function(t,e){return e.payload})),s)),Z=Object(V.c)({user:Q,token:X,error:Y}),$={key:"auth",storage:P.a,whitelist:["token"]},tt=Object(A.a)({reducer:{contacts:B,auth:Object(J.g)($,Z)},middleware:Object(A.d)({serializableCheck:{ignoredActions:[J.a,J.f,J.b,J.c,J.d,J.e]}})}),et=Object(J.h)(tt);j.a.render(Object(u.jsx)(g.a,{store:tt,children:Object(u.jsx)(F.a,{loading:null,persistor:et,children:Object(u.jsx)(_,{})})}),document.getElementById("root"))},106:function(t,e,n){"use strict";n.r(e);var c=n(17),r=n(18),a=n(20),o=n(19),s=n(1),u=n(0),i=n(107),l=n(34),b=n.n(l),j=n(39),h=n(6),d=n(26),f=n.n(d),O=n(12),p=n(23),m=(n(41),function(t){var e=t.isVisible;return Object(s.jsx)(i.a,{in:e,timeout:250,classNames:"answer",unmountOnExit:!0,children:Object(s.jsx)("div",{className:"answerContainer",children:Object(s.jsx)("p",{children:"Contact already declared"})})})}),g=n(24),v=function(t){Object(a.a)(n,t);var e=Object(o.a)(n);function n(){var t;Object(c.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))).state={name:"",number:"",isVisible:!1},t.handleChange=function(e){var n=e.target;t.setState(Object(h.a)({},n.name,n.value))},t.handleSubmit=function(e){if(e.preventDefault(),t.props.list.some((function(e){return e.name===t.state.name})))return t.setState({isVisible:!0}),void setTimeout((function(){t.setState({isVisible:!1})}),1500);t.props.addContact(Object(j.a)({},t.state)),t.setState({name:"",number:""})},t}return Object(r.a)(n,[{key:"render",value:function(){var t=this.state,e=t.name,n=t.number,c=t.isVisible;return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("div",{children:Object(s.jsx)(m,{isVisible:c})}),Object(s.jsxs)("form",{className:f.a.container,action:"",onSubmit:this.handleSubmit,children:[Object(s.jsx)("label",{className:f.a.label,htmlFor:"name",children:"Name"}),Object(s.jsx)("input",{required:!0,className:f.a.input,type:"text",name:"name",placeholder:"name",value:e,onChange:this.handleChange}),Object(s.jsx)("label",{className:f.a.label,htmlFor:"number",children:"Number"}),Object(s.jsx)("input",{required:!0,className:f.a.input,type:"tel",name:"number",placeholder:"number",value:n,onChange:this.handleChange}),Object(s.jsx)("input",{type:"submit",value:"Add contact"})]})]})}}]),n}(u.Component),x={addContact:p.a.addContact},C=Object(O.b)((function(t){return{list:g.a.getForm(t)}}),x)(v),y=n(31),S=n.n(y),L=n(108),k=function(t){Object(a.a)(n,t);var e=Object(o.a)(n);function n(){return Object(c.a)(this,n),e.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var t=this;return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(L.a,{component:"ul",className:S.a.container,children:this.props.list.map((function(e){return Object(s.jsx)(i.a,{classNames:"showbutton",timeout:250,children:Object(s.jsxs)("li",{className:S.a.list,children:[e.name," : ",e.number,Object(s.jsx)("button",{className:S.a.button,type:"button",onClick:function(){return t.props.delete(e.id)},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]},e.id)},e.id)}))})})}}]),n}(u.Component),E={delete:p.a.removeContact},R=Object(O.b)((function(t){return{list:g.a.getList(t)}}),E)(k),q={filterRender:n(11).a.filterContact},w=Object(O.b)((function(t){return{filter:g.a.getFilter(t)}}),q)((function(t){var e=t.filterRender,n=t.filter;return Object(s.jsxs)("div",{children:[Object(s.jsx)("label",{children:"Find contacts by name"}),Object(s.jsx)("input",{type:"text",value:n,onChange:function(t){return e(t.target.value)}})]})})),_=function(t){Object(a.a)(n,t);var e=Object(o.a)(n);function n(){return Object(c.a)(this,n),e.apply(this,arguments)}return Object(r.a)(n,[{key:"componentDidMount",value:function(){this.props.isAuthenticated?this.props.onFetchContact():this.props.history.replace("/")}},{key:"componentDidUpdate",value:function(){this.props.isAuthenticated||this.props.history.replace("/")}},{key:"render",value:function(){return Object(s.jsxs)("div",{className:b.a.container,children:[Object(s.jsx)(i.a,{in:!0,classNames:"logo",timeout:250,appear:!0,unmountOnExit:!0,children:Object(s.jsx)("h1",{children:"Phonebook"})}),Object(s.jsx)(C,{}),Object(s.jsx)("h2",{children:"Contacts"}),Object(s.jsx)(w,{}),Object(s.jsx)(R,{})]})}}]),n}(u.Component),F={onFetchContact:p.a.fetchContact};e.default=Object(O.b)((function(t){return{isAuthenticated:t.auth.token}}),F)(_)},11:function(t,e,n){"use strict";var c=n(2),r=Object(c.b)("contacts/addRequest"),a=Object(c.b)("contacts/addSuccess"),o=Object(c.b)("contacts/addError"),s=Object(c.b)("contacts/fetchRequest"),u=Object(c.b)("contacts/fetchSuccess"),i=Object(c.b)("contacts/fetchError"),l=Object(c.b)("contacts/removeRequest"),b=Object(c.b)("contacts/removeSuccess"),j=Object(c.b)("contacts/removeError"),h=Object(c.b)("FILTER_CONTACTS");e.a={removeListError:j,removeListSuccess:b,removeListRequest:l,filterContact:h,addListRequest:r,addListSuccess:a,addListError:o,fetchListRequest:s,fetchListSuccess:u,fetchListError:i}},23:function(t,e,n){"use strict";var c=n(11),r=n(15),a=n.n(r);a.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com/";e.a={removeContact:function(t){return function(e){e(c.a.removeListRequest()),a.a.delete("/contacts/".concat(t)).then((function(){e(c.a.removeListSuccess(t))})).catch((function(t){return e(c.a.removeListError(t))}))}},addContact:function(t){var e=t.name,n=t.number;return function(t){t(c.a.addListRequest()),a.a.post("/contacts",{name:e,number:n}).then((function(e){t(c.a.addListSuccess(e.data))})).catch((function(e){return t(c.a.addListError(e))}))}},fetchContact:function(){return function(t){t(c.a.fetchListRequest()),a.a.get("/contacts").then((function(e){var n=e.data;t(c.a.fetchListSuccess(n))})).catch((function(e){return t(c.a.fetchListError(e))}))}}}},24:function(t,e,n){"use strict";e.a={getLoding:function(t){return t.contacts.loading},getFilter:function(t){return t.contacts.filter},getForm:function(t){return t.contacts.items},getList:function(t){return t.contacts.items.filter((function(e){return e.name.toLowerCase().includes(t.contacts.filter.toLowerCase())}))}}},26:function(t,e,n){t.exports={container:"ContactForm_container__3tnp5",label:"ContactForm_label__3h9Ix",input:"ContactForm_input__4oMAT"}},27:function(t,e,n){"use strict";e.a={HomeView:"/",LoginView:"/login",RegisterView:"/register",ContactsView:"/contacts"}},29:function(t,e,n){"use strict";var c=n(15),r=n.n(c),a=n(5);r.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com/";var o=function(t){r.a.defaults.headers.common.Authorization="Bearer ".concat(t)},s=function(){r.a.defaults.headers.common.Authorization=""};e.a={register:function(t){return function(e){e(a.a.registerRequest()),r.a.post("/users/signup",t).then((function(t){o(t.data.token),e(a.a.registerSuccess(t.data))})).catch((function(t){return e(a.a.registerError(t))}))}},logOut:function(){return function(t){t(a.a.logoutRequest()),r.a.post("/users/logout").then((function(){s(),t(a.a.logoutSuccess())})).catch((function(e){return t(a.a.logoutError(e))}))}},logIn:function(t){return function(e){e(a.a.loginRequest()),r.a.post("/users/login",t).then((function(t){o(t.data.token),e(a.a.loginSuccess(t.data))})).catch((function(t){return e(a.a.loginError(t))}))}},getCurrentUser:function(){return function(t,e){var n=e().auth.token;n&&(o(n),t(a.a.getCurrentUserRequest()),r.a.get("/users/current").then((function(e){var n=e.data;return t(a.a.getCurrentUserSuccess(n))})).catch((function(t){return a.a.getCurrentUserError(t)})))}}}},31:function(t,e,n){t.exports={container:"ContactList_container__2J0el",list:"ContactList_list__CCvTN",button:"ContactList_button__2GTzq"}},34:function(t,e,n){t.exports={container:"App_container__2MweG"}},41:function(t,e,n){},5:function(t,e,n){"use strict";var c=n(2),r=Object(c.b)("auth/registerRequest"),a=Object(c.b)("auth/registerSuccess"),o=Object(c.b)("auth/registerError"),s=Object(c.b)("auth/loginRequest"),u=Object(c.b)("auth/loginSuccess"),i=Object(c.b)("auth/loginError"),l=Object(c.b)("auth/logoutRequest"),b=Object(c.b)("auth/logoutSuccess"),j=Object(c.b)("auth/logoutError"),h=Object(c.b)("auth/getCurrentUserRequest"),d=Object(c.b)("auth/getCurrentUserSuccess"),f=Object(c.b)("auth/getCurrentUserError");e.a={registerRequest:r,registerSuccess:a,registerError:o,logoutRequest:l,logoutSuccess:b,logoutError:j,loginRequest:s,loginSuccess:u,loginError:i,getCurrentUserRequest:h,getCurrentUserSuccess:d,getCurrentUserError:f}}},[[105,1,2]]]);
//# sourceMappingURL=main.f50786ea.chunk.js.map