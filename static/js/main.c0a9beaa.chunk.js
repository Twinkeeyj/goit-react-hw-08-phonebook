(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[0],{16:function(t,e,r){"use strict";var n=r(1),c=Object(n.b)("contacts/addRequest"),a=Object(n.b)("contacts/addSuccess"),o=Object(n.b)("contacts/addError"),u=Object(n.b)("contacts/fetchRequest"),s=Object(n.b)("contacts/fetchSuccess"),i=Object(n.b)("contacts/fetchError"),b=Object(n.b)("contacts/removeRequest"),l=Object(n.b)("contacts/removeSuccess"),j=Object(n.b)("contacts/removeError"),O=Object(n.b)("FILTER_CONTACTS");e.a={removeListError:j,removeListSuccess:l,removeListRequest:b,filterContact:O,addListRequest:c,addListSuccess:a,addListError:o,fetchListRequest:u,fetchListSuccess:s,fetchListError:i}},18:function(t,e,r){"use strict";e.a={HomeView:"/",LoginView:"/login",RegisterView:"/register",ContactsView:"/contacts"}},25:function(t,e,r){"use strict";var n=r(15),c=r.n(n),a=r(4);c.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com/";var o=function(t){c.a.defaults.headers.common.Authorization="Bearer ".concat(t)},u=function(){c.a.defaults.headers.common.Authorization=""};e.a={register:function(t){return function(e){e(a.a.registerRequest()),c.a.post("/users/signup",t).then((function(t){o(t.data.token),e(a.a.registerSuccess(t.data))})).catch((function(t){return e(a.a.registerError(t))}))}},logOut:function(){return function(t){t(a.a.logoutRequest()),c.a.post("/users/logout").then((function(){u(),t(a.a.logoutSuccess())})).catch((function(e){return t(a.a.logoutError(e))}))}},logIn:function(t){return function(e){e(a.a.loginRequest()),c.a.post("/users/login",t).then((function(t){o(t.data.token),e(a.a.loginSuccess(t.data))})).catch((function(t){return e(a.a.loginError(t))}))}},getCurrentUser:function(){return function(t,e){var r=e().auth.token;r&&(o(r),t(a.a.getCurrentUserRequest()),c.a.get("/users/current").then((function(e){var r=e.data;return t(a.a.getCurrentUserSuccess(r))})).catch((function(t){return a.a.getCurrentUserError(t)})))}}}},4:function(t,e,r){"use strict";var n=r(1),c=Object(n.b)("auth/registerRequest"),a=Object(n.b)("auth/registerSuccess"),o=Object(n.b)("auth/registerError"),u=Object(n.b)("auth/loginRequest"),s=Object(n.b)("auth/loginSuccess"),i=Object(n.b)("auth/loginError"),b=Object(n.b)("auth/logoutRequest"),l=Object(n.b)("auth/logoutSuccess"),j=Object(n.b)("auth/logoutError"),O=Object(n.b)("auth/getCurrentUserRequest"),h=Object(n.b)("auth/getCurrentUserSuccess"),d=Object(n.b)("auth/getCurrentUserError");e.a={registerRequest:c,registerSuccess:a,registerError:o,logoutRequest:b,logoutSuccess:l,logoutError:j,loginRequest:u,loginSuccess:s,loginError:i,getCurrentUserRequest:O,getCurrentUserSuccess:h,getCurrentUserError:d}},47:function(t,e,r){},96:function(t,e,r){"use strict";r.r(e);var n,c,a,o,u,s=r(2),i=r(0),b=r.n(i),l=r(24),j=r.n(l),O=(r(47),r(20)),h=r(21),d=r(23),g=r(22),f=r(32),p=r(6),m=r(17),S=r(18),y=r(25),C=Object(m.b)((function(t){return{name:t.auth.user.name,avatar:"https://steamcdn-a.akamaihd.net/steamcommunity/public/images/avatars/ea/ea25bf27b1917865960af3c6e2364c29b83f58bd_full.jpg"}}),{onLogout:y.a.logOut})((function(t){var e=t.avatar,r=t.name,n=t.onLogout;return Object(s.jsxs)("div",{children:[Object(s.jsx)("img",{src:e,alt:"\u0422\u0432\u043e\u0454 \u0444\u043e\u0442\u043e \u043c\u0443\u0434\u0430\u043a!!!!!",width:"32"}),Object(s.jsxs)("span",{children:["Welcome, ",r]}),Object(s.jsx)("button",{type:"button",onClick:n,children:"Logout"})]})})),v=r(43),x=r.n(v),E=function(t){Object(d.a)(r,t);var e=Object(g.a)(r);function r(){return Object(O.a)(this,r),e.apply(this,arguments)}return Object(h.a)(r,[{key:"render",value:function(){return Object(s.jsx)(x.a,{type:"TailSpin",color:"#00BFFF",height:100,width:100,timeout:3e3})}}]),r}(b.a.Component),R=Object(i.lazy)((function(){return r.e(7).then(r.bind(null,104))})),k=Object(i.lazy)((function(){return r.e(5).then(r.bind(null,105))})),L=Object(i.lazy)((function(){return r.e(6).then(r.bind(null,106))})),q=Object(i.lazy)((function(){return Promise.all([r.e(4),r.e(3)]).then(r.bind(null,107))})),w=function(t){Object(d.a)(r,t);var e=Object(g.a)(r);function r(){return Object(O.a)(this,r),e.apply(this,arguments)}return Object(h.a)(r,[{key:"componentDidMount",value:function(){this.props.isAuthenticated&&this.props.onGetCurrentUser()}},{key:"render",value:function(){return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(f.a,{children:Object(s.jsxs)(i.Suspense,{fallback:Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(E,{}),Object(s.jsx)("h3",{children:"Loading..."})]}),children:[this.props.isAuthenticated&&Object(s.jsx)(C,{}),Object(s.jsxs)(p.d,{children:[Object(s.jsx)(p.b,{exact:!0,path:S.a.HomeView,component:R}),Object(s.jsx)(p.b,{exact:!0,path:S.a.LoginView,component:k}),Object(s.jsx)(p.b,{exact:!0,path:S.a.ContactsView,component:q}),Object(s.jsx)(p.b,{path:S.a.RegisterView,component:L}),Object(s.jsx)(p.a,{to:"/"})]})]})})})}}]),r}(i.Component),U=Object(m.b)((function(t){return{isAuthenticated:t.auth.token}}),{onGetCurrentUser:y.a.getCurrentUser})(w),V=r(44),z=r(8),A=r(46),F=r(7),T=r(1),B=r(16),I=[],G="",H=Object(T.c)(I,(n={},Object(z.a)(n,B.a.addListSuccess,(function(t,e){return[].concat(Object(A.a)(t),[e.payload])})),Object(z.a)(n,B.a.fetchListSuccess,(function(t,e){return e.payload})),Object(z.a)(n,B.a.removeListSuccess,(function(t,e){return t.filter((function(t){return t.id!==e.payload}))})),n)),J=Object(T.c)(G,Object(z.a)({},B.a.filterContact,(function(t,e){return e.payload}))),_=Object(T.c)(!1,(c={},Object(z.a)(c,B.a.addListRequest,(function(){return!0})),Object(z.a)(c,B.a.addListSuccess,(function(){return!1})),c)),D=Object(F.c)({items:H,filter:J,loading:_}),M=r(14),N=r(45),P=r.n(N),W=r(4),K={name:null,email:null},Q=Object(T.c)(K,(a={},Object(z.a)(a,W.a.registerSuccess,(function(t,e){return e.payload.user})),Object(z.a)(a,W.a.loginSuccess,(function(t,e){return e.payload.user})),Object(z.a)(a,W.a.getCurrentUserSuccess,(function(t,e){return e.payload})),Object(z.a)(a,W.a.logoutSuccess,(function(){return K})),a)),X=Object(T.c)(null,(o={},Object(z.a)(o,W.a.registerSuccess,(function(t,e){return e.payload.token})),Object(z.a)(o,W.a.loginSuccess,(function(t,e){return e.payload.token})),Object(z.a)(o,W.a.logoutSuccess,(function(){return null})),o)),Y=Object(T.c)(null,(u={},Object(z.a)(u,W.a.registerError,(function(t,e){return e.payload})),Object(z.a)(u,W.a.loginError,(function(t,e){return e.payload})),Object(z.a)(u,W.a.logoutError,(function(t,e){return e.payload})),Object(z.a)(u,W.a.getCurrentUserError,(function(t,e){return e.payload})),u)),Z=Object(F.c)({user:Q,token:X,error:Y}),$={key:"auth",storage:P.a,whitelist:["token"]},tt=Object(T.a)({reducer:{contacts:D,auth:Object(M.g)($,Z)},middleware:Object(T.d)({serializableCheck:{ignoredActions:[M.a,M.f,M.b,M.c,M.d,M.e]}})}),et=Object(M.h)(tt);j.a.render(Object(s.jsx)(m.a,{store:tt,children:Object(s.jsx)(V.a,{loading:null,persistor:et,children:Object(s.jsx)(U,{})})}),document.getElementById("root"))}},[[96,1,2]]]);
//# sourceMappingURL=main.c0a9beaa.chunk.js.map