(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[0],{16:function(t,e,r){"use strict";var n=r(1),c=Object(n.b)("contacts/addRequest"),o=Object(n.b)("contacts/addSuccess"),a=Object(n.b)("contacts/addError"),s=Object(n.b)("contacts/fetchRequest"),u=Object(n.b)("contacts/fetchSuccess"),i=Object(n.b)("contacts/fetchError"),b=Object(n.b)("contacts/removeRequest"),l=Object(n.b)("contacts/removeSuccess"),j=Object(n.b)("contacts/removeError"),h=Object(n.b)("FILTER_CONTACTS");e.a={removeListError:j,removeListSuccess:l,removeListRequest:b,filterContact:h,addListRequest:c,addListSuccess:o,addListError:a,fetchListRequest:s,fetchListSuccess:u,fetchListError:i}},18:function(t,e,r){"use strict";e.a={HomeView:"/goit-react-hw-08-phonebook",LoginView:"/login",RegisterView:"/register",ContactsView:"/contacts"}},24:function(t,e,r){"use strict";var n=r(15),c=r.n(n),o=r(4);c.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com/";var a=function(t){c.a.defaults.headers.common.Authorization="Bearer ".concat(t)},s=function(){c.a.defaults.headers.common.Authorization=""};e.a={register:function(t){return function(e){e(o.a.registerRequest()),c.a.post("/users/signup",t).then((function(t){a(t.data.token),e(o.a.registerSuccess(t.data))})).catch((function(t){return e(o.a.registerError(t)),alert("This mail is already in use, try another!!")}))}},logOut:function(){return function(t){t(o.a.logoutRequest()),c.a.post("/users/logout").then((function(){s(),t(o.a.logoutSuccess())})).catch((function(e){return t(o.a.logoutError(e))}))}},logIn:function(t){return function(e){e(o.a.loginRequest()),c.a.post("/users/login",t).then((function(t){a(t.data.token),e(o.a.loginSuccess(t.data))})).catch((function(t){return e(o.a.loginError(t)),alert("This email is not assigned to any users!!")}))}},getCurrentUser:function(){return function(t,e){var r=e().auth.token;r&&(a(r),t(o.a.getCurrentUserRequest()),c.a.get("/users/current").then((function(e){var r=e.data;return t(o.a.getCurrentUserSuccess(r))})).catch((function(t){return o.a.getCurrentUserError(t)})))}}}},4:function(t,e,r){"use strict";var n=r(1),c=Object(n.b)("auth/registerRequest"),o=Object(n.b)("auth/registerSuccess"),a=Object(n.b)("auth/registerError"),s=Object(n.b)("auth/loginRequest"),u=Object(n.b)("auth/loginSuccess"),i=Object(n.b)("auth/loginError"),b=Object(n.b)("auth/logoutRequest"),l=Object(n.b)("auth/logoutSuccess"),j=Object(n.b)("auth/logoutError"),h=Object(n.b)("auth/getCurrentUserRequest"),g=Object(n.b)("auth/getCurrentUserSuccess"),O=Object(n.b)("auth/getCurrentUserError");e.a={registerRequest:c,registerSuccess:o,registerError:a,logoutRequest:b,logoutSuccess:l,logoutError:j,loginRequest:s,loginSuccess:u,loginError:i,getCurrentUserRequest:h,getCurrentUserSuccess:g,getCurrentUserError:O}},47:function(t,e,r){},48:function(t,e,r){"use strict";var n=r(2),c=(r(0),r(17)),o=r(24);e.a=Object(c.b)((function(t){return{name:t.auth.user.name,avatar:"https://w7.pngwing.com/pngs/880/546/png-transparent-smiley-emoticon-computer-icons-emoticon-smile-smiley-online-chat-glasses.png"}}),{onLogout:o.a.logOut})((function(t){var e=t.avatar,r=t.name;t.onLogout;return Object(n.jsxs)("div",{children:[Object(n.jsx)("img",{src:e,alt:"\u0422\u0432\u043e\u0454 \u0444\u043e\u0442\u043e!!",width:"32"}),Object(n.jsxs)("span",{className:"user-title",children:["Welcome, ",r]})]})}))},97:function(t,e,r){"use strict";r.r(e);var n,c,o,a,s,u=r(2),i=r(0),b=r.n(i),l=r(25),j=r.n(l),h=(r(47),r(20)),g=r(21),O=r(23),d=r(22),f=r(32),p=r(6),m=r(17),S=r(18),y=(r(48),r(24)),v=r(43),C=r.n(v),E=function(t){Object(O.a)(r,t);var e=Object(d.a)(r);function r(){return Object(h.a)(this,r),e.apply(this,arguments)}return Object(g.a)(r,[{key:"render",value:function(){return Object(u.jsx)(C.a,{type:"TailSpin",color:"#00BFFF",height:100,width:100,timeout:3e3})}}]),r}(b.a.Component),R=Object(i.lazy)((function(){return r.e(7).then(r.bind(null,105))})),k=Object(i.lazy)((function(){return r.e(5).then(r.bind(null,106))})),x=Object(i.lazy)((function(){return r.e(6).then(r.bind(null,107))})),L=Object(i.lazy)((function(){return Promise.all([r.e(4),r.e(3)]).then(r.bind(null,108))})),w=function(t){Object(O.a)(r,t);var e=Object(d.a)(r);function r(){return Object(h.a)(this,r),e.apply(this,arguments)}return Object(g.a)(r,[{key:"componentDidMount",value:function(){this.props.isAuthenticated&&this.props.onGetCurrentUser()}},{key:"render",value:function(){return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(f.a,{children:Object(u.jsx)(i.Suspense,{fallback:Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(E,{}),Object(u.jsx)("h3",{children:"Loading..."})]}),children:Object(u.jsxs)(p.d,{children:[Object(u.jsx)(p.b,{exact:!0,path:S.a.HomeView,component:R}),Object(u.jsx)(p.b,{exact:!0,path:S.a.LoginView,component:k}),Object(u.jsx)(p.b,{exact:!0,path:S.a.ContactsView,component:L}),Object(u.jsx)(p.b,{path:S.a.RegisterView,component:x}),Object(u.jsx)(p.a,{to:"/goit-react-hw-08-phonebook"})]})})})})}}]),r}(i.Component),q=Object(m.b)((function(t){return{isAuthenticated:t.auth.token}}),{onGetCurrentUser:y.a.getCurrentUser})(w),U=r(44),V=r(8),z=r(46),A=r(7),F=r(1),T=r(16),B=[],I="",G=Object(F.c)(B,(n={},Object(V.a)(n,T.a.addListSuccess,(function(t,e){return[].concat(Object(z.a)(t),[e.payload])})),Object(V.a)(n,T.a.fetchListSuccess,(function(t,e){return e.payload})),Object(V.a)(n,T.a.removeListSuccess,(function(t,e){return t.filter((function(t){return t.id!==e.payload}))})),n)),H=Object(F.c)(I,Object(V.a)({},T.a.filterContact,(function(t,e){return e.payload}))),J=Object(F.c)(!1,(c={},Object(V.a)(c,T.a.addListRequest,(function(){return!0})),Object(V.a)(c,T.a.addListSuccess,(function(){return!1})),c)),N=Object(A.c)({items:G,filter:H,loading:J}),D=r(14),M=r(45),P=r.n(M),W=r(4),_={name:null,email:null},K=Object(F.c)(_,(o={},Object(V.a)(o,W.a.registerSuccess,(function(t,e){return e.payload.user})),Object(V.a)(o,W.a.loginSuccess,(function(t,e){return e.payload.user})),Object(V.a)(o,W.a.getCurrentUserSuccess,(function(t,e){return e.payload})),Object(V.a)(o,W.a.logoutSuccess,(function(){return _})),o)),Q=Object(F.c)(null,(a={},Object(V.a)(a,W.a.registerSuccess,(function(t,e){return e.payload.token})),Object(V.a)(a,W.a.loginSuccess,(function(t,e){return e.payload.token})),Object(V.a)(a,W.a.logoutSuccess,(function(){return null})),a)),X=Object(F.c)(null,(s={},Object(V.a)(s,W.a.registerError,(function(t,e){return e.payload})),Object(V.a)(s,W.a.loginError,(function(t,e){return e.payload})),Object(V.a)(s,W.a.logoutError,(function(t,e){return e.payload})),Object(V.a)(s,W.a.getCurrentUserError,(function(t,e){return e.payload})),s)),Y=Object(A.c)({user:K,token:Q,error:X}),Z={key:"auth",storage:P.a,whitelist:["token"]},$=Object(F.a)({reducer:{contacts:N,auth:Object(D.g)(Z,Y)},middleware:Object(F.d)({serializableCheck:{ignoredActions:[D.a,D.f,D.b,D.c,D.d,D.e]}})}),tt=Object(D.h)($);j.a.render(Object(u.jsx)(m.a,{store:$,children:Object(u.jsx)(U.a,{loading:null,persistor:tt,children:Object(u.jsx)(q,{})})}),document.getElementById("root"))}},[[97,1,2]]]);
//# sourceMappingURL=main.2434b5be.chunk.js.map