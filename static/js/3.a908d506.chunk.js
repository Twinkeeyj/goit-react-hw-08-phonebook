(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[3],{101:function(t,e,n){t.exports={container:"App_container__2MweG"}},102:function(t,e,n){t.exports={container:"ContactForm_container__3tnp5",label:"ContactForm_label__3h9Ix",input:"ContactForm_input__4oMAT"}},103:function(t,e,n){t.exports={container:"ContactList_container__2J0el",list:"ContactList_list__CCvTN",button:"ContactList_button__2GTzq"}},107:function(t,e,n){"use strict";n.r(e);var a=n(20),c=n(21),r=n(23),i=n(22),o=n(2),s=n(0),u=n(108),l=n(101),b=n.n(l),h=n(97),d=n(8),m=n(102),j=n.n(m),p=n(17),f=n(16),O=n(15),v=n.n(O);v.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com";var x={removeContact:function(t){return function(e){e(f.a.removeListRequest()),v.a.delete("/contacts/".concat(t)).then((function(){e(f.a.removeListSuccess(t))})).catch((function(t){return e(f.a.removeListError(t))}))}},addContact:function(t){var e=t.name,n=t.number;return function(t){t(f.a.addListRequest()),v.a.post("/contacts",{name:e,number:n}).then((function(e){t(f.a.addListSuccess(e.data))})).catch((function(e){return t(f.a.addListError(e))}))}},fetchContact:function(){return function(t){t(f.a.fetchListRequest()),v.a.get("/contacts").then((function(e){var n=e.data;t(f.a.fetchListSuccess(n))})).catch((function(e){return t(f.a.fetchListError(e))}))}}},C=(n(47),function(t){var e=t.isVisible;return Object(o.jsx)(u.a,{in:e,timeout:250,classNames:"answer",unmountOnExit:!0,children:Object(o.jsx)("div",{className:"answerContainer",children:Object(o.jsx)("p",{children:"Contact already declared"})})})}),_=function(t){return t.contacts.filter},y=function(t){return t.contacts.items},g=function(t){return t.contacts.items.filter((function(e){return e.name.toLowerCase().includes(t.contacts.filter.toLowerCase())}))},N=function(t){Object(r.a)(n,t);var e=Object(i.a)(n);function n(){var t;Object(a.a)(this,n);for(var c=arguments.length,r=new Array(c),i=0;i<c;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))).state={name:"",number:"",isVisible:!1},t.handleChange=function(e){var n=e.target;t.setState(Object(d.a)({},n.name,n.value))},t.handleSubmit=function(e){if(e.preventDefault(),t.props.list.some((function(e){return e.name===t.state.name})))return t.setState({isVisible:!0}),void setTimeout((function(){t.setState({isVisible:!1})}),1500);t.props.addContact(Object(h.a)({},t.state)),t.setState({name:"",number:""})},t}return Object(c.a)(n,[{key:"render",value:function(){var t=this.state,e=t.name,n=t.number,a=t.isVisible;return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("div",{children:Object(o.jsx)(C,{isVisible:a})}),Object(o.jsxs)("form",{className:j.a.container,action:"",onSubmit:this.handleSubmit,children:[Object(o.jsx)("label",{className:j.a.label,htmlFor:"name",children:"Name"}),Object(o.jsx)("input",{required:!0,className:j.a.input,type:"text",name:"name",placeholder:"name",value:e,onChange:this.handleChange}),Object(o.jsx)("label",{className:j.a.label,htmlFor:"number",children:"Number"}),Object(o.jsx)("input",{required:!0,className:j.a.input,type:"tel",name:"number",placeholder:"number",value:n,onChange:this.handleChange}),Object(o.jsx)("input",{type:"submit",value:"Add contact"})]})]})}}]),n}(s.Component),L={addContact:x.addContact},k=Object(p.b)((function(t){return{list:y(t)}}),L)(N),w=n(103),F=n.n(w),S=n(109),A=function(t){Object(r.a)(n,t);var e=Object(i.a)(n);function n(){return Object(a.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var t=this;return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(S.a,{component:"ul",className:F.a.container,children:this.props.list.map((function(e){return Object(o.jsx)(u.a,{classNames:"showbutton",timeout:250,children:Object(o.jsxs)("li",{className:F.a.list,children:[e.name," : ",e.number,Object(o.jsx)("button",{className:F.a.button,type:"button",onClick:function(){return t.props.delete(e.id)},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]},e.id)},e.id)}))})})}}]),n}(s.Component),q={delete:x.removeContact},R=Object(p.b)((function(t){return{list:g(t)}}),q)(A),V={filterRender:f.a.filterContact},E=Object(p.b)((function(t){return{filter:_(t)}}),V)((function(t){var e=t.filterRender,n=t.filter;return Object(o.jsxs)("div",{children:[Object(o.jsx)("label",{children:"Find contacts by name"}),Object(o.jsx)("input",{type:"text",value:n,onChange:function(t){return e(t.target.value)}})]})})),T=function(t){Object(r.a)(n,t);var e=Object(i.a)(n);function n(){return Object(a.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.props.isAuthenticated?this.props.onFetchContact():this.props.history.replace("/")}},{key:"componentDidUpdate",value:function(){this.props.isAuthenticated||this.props.history.replace("/")}},{key:"render",value:function(){return Object(o.jsxs)("div",{className:b.a.container,children:[Object(o.jsx)(u.a,{in:!0,classNames:"logo",timeout:250,appear:!0,unmountOnExit:!0,children:Object(o.jsx)("h1",{children:"Phonebook"})}),Object(o.jsx)(k,{}),Object(o.jsx)("h2",{children:"Contacts"}),Object(o.jsx)(E,{}),Object(o.jsx)(R,{})]})}}]),n}(s.Component),D={onFetchContact:x.fetchContact};e.default=Object(p.b)((function(t){return{isAuthenticated:t.auth.token}}),D)(T)}}]);
//# sourceMappingURL=3.a908d506.chunk.js.map